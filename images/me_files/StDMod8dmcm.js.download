if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSMarkThreadUnread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[2]=b.createArray(),c[3]=(c[2].push("markThreadUnread unable to find thread key in DB:"),c[2]),c[4]=(c[2].push(a[0]),c[2]),c[5]=b.toJSON(c[2]),function(a){b.logger(a).mustfix(a)}(c[5]),c[0]=e):(f=d.item,b.seq([function(a){return c[3]=f.lastActivityTimestampMs,c[5]=f.lastReadWatermarkTimestampMs,c[4]=f.threadKey,b.i64.neq(e,e)?b.seq([function(a){return c[7]=b.i64.sub(b.i64.lt(e,c[3])?e:c[3],[0,1]),b.i64.lt(c[7],c[5])?b.seq([function(a){return b.fe(b.ftr(b.db.table(9).fetch(),function(a){return b.i64.eq(a.threadKey,c[4])}),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[7]})})},function(a){return c[6]=c[7]}]):b.resolve(c[6]=e)},function(a){return c[2]=c[6]}]):b.seq([function(a){return b.db.table(12).fetchDesc([[[c[4]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[8]=b.createArray(),c[9]=(c[8].push("markThreadUnread unable to find message with thread key in DB:"),c[8]),c[10]=(c[8].push(c[4]),c[8]),c[11]=b.toJSON(c[8]),function(a){b.logger(a).mustfix(a)}(c[11]),c[6]=e):(f=d.item,b.seq([function(a){return c[8]=f.timestampMs,c[10]=b.i64.sub(b.i64.lt(c[8],c[3])?c[8]:c[3],[0,1]),b.i64.lt(c[10],c[5])?b.seq([function(a){return b.fe(b.ftr(b.db.table(9).fetch(),function(a){return b.i64.eq(a.threadKey,c[4])}),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[10]})})},function(a){return c[9]=c[10]}]):b.resolve(c[9]=e)},function(a){return c[6]=c[9]}]))})},function(a){return c[2]=c[6]}])},function(a){return c[0]=c[2]}]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSOptimisticMarkThreadUnread",["LSIssueNewTask","LSMarkThreadUnread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSMarkThreadUnread"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],f)?c.seq([function(b){return function(a){c.logger(a).info(a)}("optimisticMarkThreadUnread issuing task"),c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("last_read_watermark_timestamp_ms",d[0]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,49],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUnarchiveThread",["LSIssueNewError","LSIssueNewTask","LSMoveThreadToInboxAndUpdateParent"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,c.seq([function(d){return c.sp(b("LSMoveThreadToInboxAndUpdateParent"),a[0],[0,0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[6]=c.localizeV2([0,2285622730],f),d[7]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7])):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_id",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"unarchive_thread",[0,242],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("CometRecordProductUsageMutationMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4423899691070445"}),null);
__d("CometRecordProductUsageMutationMutation.graphql",["CometRecordProductUsageMutationMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"productID"},{defaultValue:null,kind:"LocalArgument",name:"productIdentifier"}],c=[{kind:"Literal",name:"app_id",value:2220391788200892},{kind:"Variable",name:"product_id",variableName:"productID"},{kind:"Variable",name:"product_identifier",variableName:"productIdentifier"}],d={alias:null,args:null,kind:"ScalarField",name:"product_identifier",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"last_used_time",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRecordProductUsageMutationMutation",selections:[{alias:null,args:c,concreteType:"ProductUsageRecord",kind:"LinkedField",name:"update_last_used_time_for_product",plural:!1,selections:[d,e],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRecordProductUsageMutationMutation",selections:[{alias:null,args:c,concreteType:"ProductUsageRecord",kind:"LinkedField",name:"update_last_used_time_for_product",plural:!1,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometRecordProductUsageMutationMutation_facebookRelayOperation"),metadata:{},name:"CometRecordProductUsageMutationMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5739043439444414"}),null);
__d("FriendingCometFriendRequestConfirmSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"time_confirmed",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={kind:"Variable",name:"scale",variableName:"scale"},k=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestConfirmSubscription",selections:[{alias:null,args:c,concreteType:"FriendRequestConfirmSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_confirm_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Literal",name:"bookmarkID",value:"2356318349"}],kind:"FragmentSpread",name:"useTopTabBadgeCount_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"new_friend",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FriendingCometAcceptedFriendRequestsPanel_user"}],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},d,e,f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[g],storageKey:null}],storageKey:null},h],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FriendingCometFriendRequestConfirmSubscription",selections:[{alias:null,args:c,concreteType:"FriendRequestConfirmSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_confirm_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{items:[{kind:"Literal",name:"bookmark_ids.0",value:"2356318349"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[i,e],storageKey:null},{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},e],storageKey:null}],storageKey:null}],storageKey:'bookmarks(bookmark_ids:["2356318349"],environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"])'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isActor"},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"new_friend",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},j,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[e,d,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[i],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},g],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},j,{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:k,storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null},h],storageKey:null}]},params:{id:b("FriendingCometFriendRequestConfirmSubscription_facebookRelayOperation"),metadata:{subscriptionName:"friend_request_confirm_subscribe"},name:"FriendingCometFriendRequestConfirmSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5239017832777637"}),null);
__d("FriendingCometFriendRequestReceiveSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"friendship_status",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"time_received",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},j=[i],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],o={alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FriendingCometFriendRequestReceiveSubscription",selections:[{alias:null,args:c,concreteType:"FriendRequestReceiveSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Literal",name:"bookmarkID",value:"2356318349"}],kind:"FragmentSpread",name:"useTopTabBadgeCount_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,{args:null,kind:"FragmentSpread",name:"FriendingCometFriendRequestsListItem_user"}],storageKey:null},f,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},g,d,h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:j,storageKey:null}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FriendingCometFriendRequestReceiveSubscription",selections:[{alias:null,args:c,concreteType:"FriendRequestReceiveSubscribeResponsePayload",kind:"LinkedField",name:"friend_request_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{items:[{kind:"Literal",name:"bookmark_ids.0",value:"2356318349"}],kind:"ListValue",name:"bookmark_ids"},{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"folder_id",value:"PRODUCT"},{kind:"Literal",name:"sections",value:["FACEBOOK_APP"]}],concreteType:"BookmarksConnection",kind:"LinkedField",name:"bookmarks",plural:!1,selections:[{alias:null,args:null,concreteType:"BookmarksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Bookmark",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"bookmarked_node",plural:!1,selections:[k,d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"bookmark_render_location",value:"COMET_TOP_TAB"}],kind:"ScalarField",name:"unread_count",storageKey:'unread_count(bookmark_render_location:"COMET_TOP_TAB")'},d],storageKey:null}],storageKey:null}],storageKey:'bookmarks(bookmark_ids:["2356318349"],environment:"COMET",folder_id:"PRODUCT",sections:["FACEBOOK_APP"])'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[k,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[d,e,l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},m,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"social_context_top_mutual_friends",plural:!0,selections:[d,l,o,{alias:null,args:[{kind:"Literal",name:"height",value:20},m,{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"FriendNode",abstractKey:"__isFriendNode"}],storageKey:null},f,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[d,g,{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[k],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},i],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},m,{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:n,storageKey:null},o,{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],storageKey:null}]},params:{id:b("FriendingCometFriendRequestReceiveSubscription_facebookRelayOperation"),metadata:{subscriptionName:"friend_request_receive_subscribe"},name:"FriendingCometFriendRequestReceiveSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("logCometWatchTabSelectedEvent",["VideoHomeTypedLoggerLite"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("VideoHomeTypedLoggerLite").log({click_point:a,entry_point_type:d,event:"video_tab_selected",event_target:"watch_home_www",tab_selection_type:"user_initiated_click",was_badged:b})}g["default"]=a}),98);
__d("logCometTopNavTabPress",["CometHomeProductBadgedNavigationLogger","logCometWatchTabSelectedEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e!=null&&b!=null&&b>0&&d("CometHomeProductBadgedNavigationLogger").markerStartAndAnnotateWithProductID(e);switch(a){case"watch":c("logCometWatchTabSelectedEvent")("tab",b>0,"tab");break;default:break}}g["default"]=a}),98);
__d("CometRecordProductUsageMutation",["CometRecordProductUsageMutationMutation.graphql","CometRelay","CometRelayErrorHandling","JSScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometRecordProductUsageMutationMutation.graphql");function a(a,b,e){c("JSScheduler").scheduleLoggingPriCallback(function(){d("CometRelay").commitMutation(a,{mutation:i,onError:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)},variables:{productID:e,productIdentifier:b}})})}e={updateProductUsage:a};f=e;g["default"]=f}),98);
__d("FriendingCometFriendRequestConfirmSubscription",["CometRelay","FriendingCometFriendRequestConfirmSubscription.graphql","WebPixelRatio","cr:1723177","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("FriendingCometFriendRequestConfirmSubscription.graphql");function a(a,c,e,f,g,h){var j=function(a){var b=a.getRootField("friend_request_confirm_subscribe");if(b==null)return;var c=a.get(d("relay-runtime").VIEWER_ID);if(c==null)return;var e=b.getLinkedRecord("new_friend");if(e==null)return;b=b.getValue("time_confirmed");c=d("relay-runtime").ConnectionHandler.getConnection(c,"FriendingCometAcceptedFriendRequestsPanel_friend_confirmed_notifications");if(c==null)return;a=d("relay-runtime").ConnectionHandler.createEdge(a,c,e,"FriendConfirmedNotificationsEdge");a.setValue(b,"time_sent");d("relay-runtime").ConnectionHandler.insertEdgeBefore(c,a);e=parseInt(c.getValue("count"),0);c.setValue(e+1,"count")},k=function(a){a!=null&&b("cr:1723177")!=null&&f!==!0&&b("cr:1723177").pushFriendingConfirmedCometToast(a,e)};return d("CometRelay").requestSubscription(c,{onCompleted:g,onError:h,onNext:k,subscription:i,updater:j,variables:{input:{requester_id:a},scale:d("WebPixelRatio").get()}})}g.subscribe=a}),98);
__d("FriendingCometFriendRequestReceiveSubscription",["CometRelay","FriendingCometFriendRequestReceiveSubscription.graphql","WebPixelRatio","cr:1723177","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("FriendingCometFriendRequestReceiveSubscription.graphql");function a(a,c,e,f,g,h){var j=function(a){var b=a.getRootField("friend_request_receive_subscribe");if(b==null)return;var c=a.get(d("relay-runtime").VIEWER_ID);if(c==null)return;var e=b.getLinkedRecord("sender");if(e==null)return;b=b.getValue("time_received");c=d("relay-runtime").ConnectionHandler.getConnection(c,"FriendingCometFriendRequestsPanel_friending_possibilities",{friending_channel:"REQUESTS_JEWEL"});if(c==null)return;var f=c.getLinkedRecords("edges");if(f!=null){f=f==null?void 0:f.filter(function(a){a=a==null?void 0:a.getLinkedRecord("node");return(a==null?void 0:a.getValue("id"))!==e.getValue("id")});c.setLinkedRecords(f,"edges");c.setValue(f.length,"count")}f=d("relay-runtime").ConnectionHandler.createEdge(a,c,e,"FriendingPossibilitiesEdge");f.setValue(b,"time");f.setValue(!1,"is_seen");d("relay-runtime").ConnectionHandler.insertEdgeBefore(c,f);a=parseInt(c.getValue("count"),10);c.setValue(a+1,"count")},k=function(a){a!=null&&b("cr:1723177")!=null&&f!==!0&&b("cr:1723177").pushFriendingCometToast(a,e)};return d("CometRelay").requestSubscription(c,{onCompleted:g,onError:h,onNext:k,subscription:i,updater:j,variables:{input:{receiver_id:a},scale:d("WebPixelRatio").get()}})}g.subscribe=a}),98);
__d("MWCMReportGroupToAdminMenuItem.bs",["fbt","MWCMUseGetReportCommunityDialogTrigger.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWMenuItem.react","MWPBumpEntityKey.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=g._(/*FBT_CALL*/"Iulat sa Admin"/*FBT_CALL*/),d=b("MWCMUseGetReportCommunityDialogTrigger.bs").useHook(a);return i.jsx(b("MWMenuItem.react"),{"aria-label":c,primaryText:c,onClick:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_report_to_admin");return b("bs_curry")._1(d,void 0)},icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").ReportMessages.icon})}c=a;f.make=c}),null);
__d("MWCMLogMuteDuration.bs",["C4gEngagementFalcoEvent.bs","FBGroupChatActionTypes","FBID.bs","MessengerSurfaceType.bs"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e,f){f=a!==void 0?a:0;a=b!==void 0?b:0;b=c!==void 0?c:0;c=d!==void 0?d:0;d=e!==void 0?e:0;return{"15_min":f,"1_hour":a,"8_hour":b,"24_hour":c,until_i_turn_it_back_on:d}}function h(a){if(a>=36e5){if(a===288e5)return g(void 0,void 0,1,void 0,void 0,void 0);if(a===864e5)return g(void 0,void 0,void 0,1,void 0,void 0);if(a<3600001)return g(void 0,1,void 0,void 0,void 0,void 0)}else{if(a===-1)return g(void 0,void 0,void 0,void 0,1,void 0);if(a===9e5)return g(1,void 0,void 0,void 0,void 0,void 0)}return g(void 0,void 0,void 0,void 0,void 0,void 0)}function a(a,c,d,e,f){var g=a!==void 0?a:"",i=c!==void 0?c:"";return b("C4gEngagementFalcoEvent.bs").log(function(){return{action:b("FBGroupChatActionTypes").TAP,event:d,source:e,surface:b("MessengerSurfaceType.bs").messenger,group_id:b("FBID.bs").ofString(g),thread_id:b("FBID.bs").ofString(i),client_extras:f===0?{}:h(f)}})}f.log=a}),null);
__d("MWLSMarkThreadAsUnread.bs",["LS.bs","LSOptimisticMarkThreadUnread","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSOptimisticMarkThreadUnread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWLSThreadHasThread.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("messages_ranges_v2__generated")),{hd:d,tl:0})},[c,d])))}f.useHook=a}),null);
__d("MWLSThreadProfileLink.bs",["CurrentEnvironment","MWLSContactTypeExactUtils.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","XCometVanityURLControllerRouteBuilder","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c,tl:0})}function j(a,c){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0}),function(a){return a.threadType})}function a(a){var c=b("useReStore")(),d=b("MWThread_DEPRECATED.bs").useFBID(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return i(c,e)},[c,e]));var f=b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return j(c,e)},[c,e])),!1,function(a){return b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").oneToOne)});if(f)return b("bs_belt_Option").map(a,function(a){var c=a.secondaryName;a=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&a?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:d})})}f.openContactQuery=i;f.openThreadTypeQuery=j;f.useHook=a}),null);
__d("MWLSRTCDisplayStatus.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MWChatIsMessageRequest.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWLSThreadCapabilities.bs","MWLSThreadFolder.bs","MWLSThreadHasThread.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","gkx","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0),d=b("MWLSThreadFolder.bs").useHook(void 0),e=b("MWLSThreadHasThread.bs").useHook(void 0);d=b("MWChatIsMessageRequest.bs").fn(d);var f=b("MWLSActor.bs").useActor(void 0),g=b("useReStore")(),i=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(g.table("participants")),{hd:c,tl:{hd:f,tl:0}})},[g,c,f]))),j=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(a.fromTableAscending(g.table("participants")),{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.contactId,f)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}))})},[g,c,JSON.stringify(f)]));j=j.every(function(a){if(a!==void 0&&!b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,a),!0))return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,a),!0);else return!0});var k=b("MWLSThreadCapabilities.bs").useCapabilities(void 0);k=b("MWLSThreadCapabilities.bs").canRtcVideoCall(k)||b("MWLSThreadCapabilities.bs").canRtcVoiceCall(k);var l=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0);k=k&&e&&!l;if(!k)return 2;if(d)return 1;if(typeof a!=="object")return 2;e=a.NAME;if(e==="Group")if(i)return 0;else return 2;else if(e==="Page")if(b("gkx")("1710932")&&j)return 0;else return 2;else if(e==="User")return 0;else return 2}f.useHook=a}),null);
__d("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs",["LS.bs","LSLocalOptimisticDeleteCommunityChannel","LSOptimisticRemoveThread","LSThreadRemoveType.bs","LSTransaction.bs","MWCMThreadTypes.bs","MWChatSettingsDeleteConversation.bs","MWUseNavigateAfterLeavingGroup.bs","Promise","bs_curry","cr:1158","cr:12115","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("useReStore")(),e=b("MWUseNavigateAfterLeavingGroup.bs").useHook(a),f=b("cr:12115")==null?function(a){}:b("bs_curry")._1(b("cr:12115").useDispatch,void 0),g=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);return h.useCallback(function(h){b("promiseDone")(b("LSTransaction.bs").run(d,function(c){if(g)return b("LSLocalOptimisticDeleteCommunityChannel")(a.threadKey,b("LS.bs").make(c));else return b("LSOptimisticRemoveThread")(a.threadKey,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(c))},"readWrite").then(function(d){c&&b("bs_curry")._1(e,void 0);b("cr:1158")==null||b("bs_curry")._1(f,b("bs_curry")._2(b("cr:1158").closeTabByThreadKey,Date.now(),a.threadKey));return b("Promise").resolve(void 0)}),void 0,void 0)},[d,a,e,c])}function a(a){var c=a.thread;a=a.selected;a=i(c,a);return h.jsx(b("MWChatSettingsDeleteConversation.bs").make,{disabled:!1,onClick:a,thread:c})}c=a;f.$MWChatStateActions$requireCond=b("cr:1158");f.$MWChatStateV2$requireCond=b("cr:12115");f.useDeleteThread=i;f.make=c}),null);
__d("RTWebJoinOngoingCallMenuItem.react",["fbt","ix","CometMenuItem.react","cr:11085","fbicon","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var e=a.callData,f=a.fbid,g=c("useRTWebCometStartCallCallback")();a=(a=e==null?void 0:e.call_state)!=null?a:"NO_ONGOING_CALL";var k,l,m;switch(a){case"AUDIO_GROUP_CALL":k=d("fbicon")._(i("558161"),20);l=h._(/*FBT_CALL*/"Sumali sa Tawag"/*FBT_CALL*/);m="audio";break;case"VIDEO_GROUP_CALL":k=d("fbicon")._(i("493174"),20);l=h._(/*FBT_CALL*/"Sumali sa Pakikipag-video Chat"/*FBT_CALL*/);m="video";break;default:return null}return j.jsx(c("CometMenuItem.react"),{icon:k,onClick:function(){e!=null&&(b("cr:11085").logClick({component:"join_call_button",surface:"messages_jewel"}),g({existingCall:e,mediaType:m,thread:{id:f,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListHoverButtonDropdownMenu.bs",["fbt","CometLazyDialogTrigger.react","CometMenuSeparator.react","CommunityMessagingEnableState.bs","FBGroupChatEventTypes","FBGroupChatSourceTypes","FBID.bs","JSResource","LS.bs","LSMessagingSource.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveThread","LSOptimisticUnarchiveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LsSystemFolder.bs","MAWGating.bs","MWCMLogMuteDuration.bs","MWCMReportGroupToAdminMenuItem.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWChatThreadId.bs","MWChatUnmuteThread.bs","MWInboxInfoFRXItem.bs","MWLSCanLeaveGroup.bs","MWLSGetLearningSpaceRoomOnThread.bs","MWLSLeaveGroupMenuItem.bs","MWLSMarkThreadAsRead.bs","MWLSMarkThreadAsUnread.bs","MWLSRTCDisplayStatus.bs","MWLSStartPhoneCall.bs","MWLSThreadProfileLink.bs","MWMenu.react","MWMenuItem.react","MWPBumpEntityKey.bs","MWPUseIsThreadMuted.bs","MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","MessengerMuteUtils.bs","MessengerWebEntryPoint","RTCCallState.bs","RTWebJoinOngoingCallMenuItem.react","ReQL.bs","ReQLSubscription.bs","XCometMessengerControllerRouteBuilder","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_option","bs_curry","bs_int64","cr:10885","cr:10889","cr:10890","cr:1129","cr:11437","cr:11466","cr:1875067","cr:61","cr:680","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("RTWebJoinOngoingCallMenuItem.react");c={make:j};var k=b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWThreadListHoverButtonDropdownMenu.bs");function l(a){}function a(a){var c=a.isUnread,d=a.mutedUntil,e=a.onClose,f=a.onCloseJewel,h=a.messagingEntrypoint,m=a.thread,n=a.selected,o=a.groupId,p=e!==void 0?e:l,q=f!==void 0?f:l;a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);e=b("LSMessagingThreadTypeUtil.bs").isSecure(m.threadType);var r=b("MWLSMarkThreadAsRead.bs").useHook(void 0),s=b("MWLSMarkThreadAsUnread.bs").useHook(void 0),t=i.useMemo(function(){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(m.threadKey))},[m]);f=b("MWLSThreadProfileLink.bs").useHook(void 0);var u=b("MWCMUseFolder.bs").useHook(m),v=b("MWPUseIsThreadMuted.bs").useHook(m),w=b("MessengerMuteUtils.bs").muteActionLabel(v),x=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),y=x[0],z=b("MWLSRTCDisplayStatus.bs").useHook(void 0);z=z===0&&b("bs_belt_Option").isNone(x[1]);x=b("bs_caml").i64_eq(m.parentThreadKey,b("LsSystemFolder.bs").archived);var A=b("bs_caml").i64_eq(m.parentThreadKey,b("LsSystemFolder.bs").other),B=b("bs_caml").i64_eq(m.parentThreadKey,b("LsSystemFolder.bs").pending),C=b("useReStore")(),D=b("LSMessagingSource.bs").useHook(void 0),E=b("MWLSCanLeaveGroup.bs").useHook(m),F=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,m),G=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").archiveThread,m),H=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").unarchiveThread,m),I=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDetailsDeleteThread,m),J=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").goToSecretConversation,m),K=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportChatToAdmin,m),L=b("MWCMThreadTypes.bs").isAnyCMThread(m.threadType),M=i.useMemo(function(){if(u!==void 0&&L)return u.enableState},[t]);M=b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(M,b("CommunityMessagingEnableState.bs").enabled),b("CommunityMessagingEnableState.bs").disableRequested);M=L?!M&&I:I;var N=b("MWChatUnmuteThread.bs").useHook(void 0);I=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(C.table("rtc_ongoing_calls_on_threads_v2")),{hd:m.threadKey,tl:0})},[C,JSON.stringify(m.threadKey)]));A=!A&&!B&&!x;B=b("MWLSGetLearningSpaceRoomOnThread.bs").useHook(m);var O=i.useRef(null);B=b("bs_belt_Array").keepMap([B[2]?b("bs_belt_Option").map(B[1],function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Sumali sa room"/*FBT_CALL*/),href:a,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").VideoChat.icon,target:"_blank"},"join_room")}):void 0,b("gkx")("1611062")&&z?b("bs_caml_option").some(i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Audio Call"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._3(y,!1,t,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AudioCall.icon},"rtc_audio_call")):void 0,b("gkx")("1611062")&&z?b("bs_caml_option").some(i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Makipag-Video Chat"/*FBT_CALL*/),onClick:function(a){return b("bs_curry")._3(y,!0,t,"comet_chat_tab_call_option")},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").VideoChat.icon},"rtc_video_call")):void 0],function(a){return a});var P;if(x)P=null;else{z=0;b("cr:11437")==null||!e?z=1:P=i.jsx(b("cr:11437").make,{thread:m,isUnread:c});z===1&&(P=i.jsx(b("MWMenuItem.react"),{primaryText:c?g._(/*FBT_CALL*/"Markahan bilang Nabasa Na"/*FBT_CALL*/):g._(/*FBT_CALL*/"Markahan bilang Hindi pa Nabasasa"/*FBT_CALL*/),onClick:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mark_as."+(c?"read":"unread"));if(c)return b("bs_curry")._1(r,void 0);else return b("bs_curry")._1(s,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MarkAsReadOrUnread.icon}))}var Q;if(F)if(v){z=0;b("cr:10890")==null||b("MAWGating.bs").isOccamadillo||!e?z=1:Q=i.jsx(b("cr:10890").make,{thread:m,muteActionLabel:w,mutedUntil:d});z===1&&(Q=i.jsx(b("MWMenuItem.react"),{primaryText:w,onClick:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_unmute_notifications");L&&b("MWCMLogMuteDuration.bs").log(o,b("bs_int64").to_string(m.threadKey),b("FBGroupChatEventTypes").CHANNEL_LEVEL_UNMUTE_ALL_NOTIF,b("FBGroupChatSourceTypes").CHAT_ROW,0);return b("bs_curry")._1(N,m)},secondaryText:b("bs_belt_Option").getWithDefault(b("MessengerMuteUtils.bs").mutedUntilLabel(d),""),icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.Off.icon}))}else Q=i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:k,dialogProps:{onClose:function(a){},threadKey:m.threadKey,groupId:o},children:function(a){return i.jsx(b("MWMenuItem.react"),{primaryText:w,onClick:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mute_notifications");return b("bs_curry")._1(a,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.On.icon,ref:O})}});else Q=null;if(I!==void 0){F=I.ongoingCallServerInfoData;v=F!==void 0?F:null}else v=null;if(h===b("MessengerWebEntryPoint").INBOX){var R;z=0;b("cr:11466")==null?z=1:G&&A?e?R=i.jsx(b("cr:11466").make,{thread:m}):z=1:R=null;z===1&&(R=G&&A&&!e?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Archive chat"/*FBT_CALL*/),onClick:function(a){var c=b("bs_caml_format").caml_int64_of_string(t);b("promiseDone")(b("LSTransaction.bs").run(C,function(a){return b("LSOptimisticRemoveThread")(c,b("LSThreadRemoveType.bs").archiveThread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").HideConversation.icon}):null);var S;d=0;b("cr:1129")==null?d=1:x&&H?e?S=i.jsx(b("cr:1129").make,{thread:m}):d=1:S=null;d===1&&(S=x&&H&&!e?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Unarchive chat"/*FBT_CALL*/),onClick:function(a){var c=b("bs_caml_format").caml_int64_of_string(t);b("promiseDone")(b("LSTransaction.bs").run(C,function(a){return b("LSOptimisticUnarchiveThread")(c,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").UnhideConversation.icon}):null);var T;I=0;b("cr:10889")==null||!(M&&e)?I=1:T=i.jsx(b("cr:10889").make,{thread:m,selected:n});I===1&&(T=M?i.jsx(b("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs").make,{thread:m,selected:n}):null);F=i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),R,S,T]})}else F=null;return i.jsxs(b("MWMenu.react"),{children:[P,h!==b("MessengerWebEntryPoint").INBOX?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Buksan sa Messenger"/*FBT_CALL*/),href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:t}),onClick:p,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon}):null,b("cr:1875067")==null?null:b("bs_curry")._1(b("cr:1875067").get,{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").AppMessenger.icon,threadID:b("MWChatThreadId.bs").getFBID(a)}),Q,f!==void 0?i.jsx(b("MWMenuItem.react"),{primaryText:g._(/*FBT_CALL*/"Tingnan ang profile"/*FBT_CALL*/),href:f,onClick:p,icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").ViewProfile.icon}):null,!(b("cr:10885")==null)&&J?i.jsx(b("cr:10885").make,{fbid:t,entryPoint:D,onPress:function(a){b("bs_curry")._1(q,a);return b("bs_curry")._1(p,a)}}):null,!(b("cr:680")==null)&&(J||b("bs_caml").i64_eq(m.threadType,b("MessagingThreadType.bs").group))?i.jsx(b("cr:680").make,{thread:m,onPress:function(a){b("bs_curry")._1(q,a);return b("bs_curry")._1(p,a)}}):null,!(b("cr:61")==null)&&b("bs_caml").i64_eq(m.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?i.jsx(b("cr:61").make,{thread:m,onPress:function(a){b("bs_curry")._1(q,a);return b("bs_curry")._1(p,a)}}):null,B.length!==0?i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),B]}):null,i.jsx(j,{callData:{call_state:b("RTCCallState.bs").ofLsRtcCallState(m.ongoingCallState,m.threadType),initiator_fbid:null,server_info_data:v},fbid:t}),F,K&&L?i.jsx(b("MWCMReportGroupToAdminMenuItem.bs").make,{thread:m}):null,h===b("MessengerWebEntryPoint").INBOX?i.jsx(i.Fragment,{children:i.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:m,children:function(c,a,d,e){return i.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(a){return b("bs_curry")._1(c,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SomethingIsWrong.icon,ref:a})}})}):null,E?i.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:m,showIcon:!0,shouldNavigate:n}):null],withArrow:!0})}e.exports=a;d=b("cr:1875067");e=a;f.RTWebJoinOngoingCallMenuItem=c;f.$GetMessengerDesktopMenuItem$requireCond=b("cr:1875067");f.getMessengerDesktopMenuItem=d;f.chatMuteConversationDialogResource=k;f.noOp=l;f.$MAWArchiveSecureThreadMenuItem$requireCond=b("cr:11466");f.$MAWCutoverToSecureConversationThreadListMenuItem$requireCond=b("cr:680");f.$MAWMarkThreadAsReadMenuItem$requireCond=b("cr:11437");f.$MAWSecureConversationThreadListMenuItem$requireCond=b("cr:10885");f.$MAWThreadListHoverButtonDropdownMenuDeleteSecureThreadButton$requireCond=b("cr:10889");f.$MAWThreadListHoverButtonDropdownMenuUnmuteThreadMenuItem$requireCond=b("cr:10890");f.$MAWUnarchiveSecureThreadMenuItem$requireCond=b("cr:1129");f.$MAWUndoCutoverThreadListMenuItem$requireCond=b("cr:61");f.make=e}),null);
__d("MWV2ChatCloseTabs.bs",["MWChatStateActions.bs","MWChatStateV2.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_curry","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")();a=b("MWChatStateV2.bs").useState(function(a){return a.tabs});var d=a.tabs,e=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").CLOSE_ALL_CHAT_TABS}});var f=Date.now();return b("bs_curry")._1(e,Array.from(d.values()).flatMap(function(a){return b("MWChatStateActions.bs").closeTab(f,a.tabId)}))},[e,d,c])}f.useHook=a}),null);
__d("MWV2ChatCloseTabs.re",["MWV2ChatCloseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWV2ChatCloseTabs.bs").useHook;f.useHook=a}),null);
__d("MWV2ChatMinimizeTabs.bs",["MWChatStateActions.bs","MWChatStateV2.bs","MWChatStateV2IsOpen.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_curry","react","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")();a=b("MWChatStateV2.bs").useState(function(a){return a.tabs});var d=a.tabs,e=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").MINIMIZE_ALL_CHAT_TABS}});var f=Date.now();return b("bs_curry")._1(e,Array.from(d.values()).filter(function(a){return b("MWChatStateV2IsOpen.bs").isOpen(void 0,a)}).flatMap(function(a){return b("MWChatStateActions.bs").minimizeTab(f,a.tabId)}))},[e,d,c])}f.useHook=a}),null);
__d("MWV2ChatMinimizeTabs.re",["MWV2ChatMinimizeTabs.bs"],(function(a,b,c,d,e,f){a=b("MWV2ChatMinimizeTabs.bs").useHook;f.useHook=a}),null);
__d("MWV2ChatOptionsHeadPopover.react",["fbt","ix","CometMenu.react","CometMenuItem.react","MWV2ChatCloseTabs.re","MWV2ChatMinimizeTabs.re","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=d("MWV2ChatCloseTabs.re").useHook(),e=d("MWV2ChatMinimizeTabs.re").useHook();return j.jsxs(c("CometMenu.react"),{withArrow:!0,children:[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("491584"),20),onClick:function(a){return b()},primaryText:h._(/*FBT_CALL*/"Isara ang lahat ng chat"/*FBT_CALL*/),testid:void 0}),a.hasOpenTabs&&j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("518013"),20),onClick:function(a){return e()},primaryText:h._(/*FBT_CALL*/"I-minimize ang mga bukas na chat"/*FBT_CALL*/),testid:void 0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IndexedDbStorageAllowlist",["ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=new Set([d("ReStoreIndexMetadata").indicesTableName,"encrypted_backups","encrypted_backups_virtual_devices","encrypted_backups_metadata","secure_encrypted_backups_client_state","secure_encrypted_backups_epochs","secure_recovery_code_data","secure_encrypted_backups_message_thread_id_context","secure_encrypted_backups_recovery_code_status","secure_encrypted_backups_generated_recovery_code","device_metadata","secure_encrypted_backups_qr_add_device_context","encrypted_backup_restore_task_payload_context"]);b=a;g["default"]=b}),98);